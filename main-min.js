function getWeather(e){fetch(e).then(function(e){return e.json()}).then(function(e){var o="",t=e.weather[0].id;console.log(t),o=t>=200&&t<=232?"fa-bolt":t>=300&&t<=321?"fa-umbrella":t>=500&&t<=531?"fa-tint":t>=600&&t<=622?"fa-snowflake-o":800===t?"fa-sun-o":t>=801&&t<=804?"fa-cloud":"",iconHolder.style.display="block",iconHolder.classList.add(o),reloadHolder.classList.remove("fa-spin"),tempHolder.innerHTML=Math.floor(e.main.temp)+"°",weatherHolder.innerHTML=e.weather[0].description,posHolder.innerHTML="Near <strong>"+e.name+"</strong>"})}function getForecast(e){fetch(e).then(function(e){return e.json()}).then(function(e){console.log(e),forTempHolder.innerHTML="Max: "+Math.floor(e.list[7].main.temp_max)+"°<br>Min: "+Math.floor(e.list[7].main.temp_min)+"°",forHolder.innerHTML=e.list[7].weather[0].description})}function getLocation(){posHolder.innerHTML="",tempHolder.innerHTML="",weatherHolder.innerHTML="",iconHolder.style.display="none",reloadHolder.classList.add("fa-spin"),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o="https://cors.now.sh/http://api.openweathermap.org/data/2.5/weather?lat="+e.coords.latitude+"&lon="+e.coords.longitude+"&units=metric&APPID=c2ca76245286de363c961123ba8197b5",t="https://cors.now.sh/http://api.openweathermap.org/data/2.5/forecast?lat="+e.coords.latitude+"&lon="+e.coords.longitude+"&units=metric&APPID=c2ca76245286de363c961123ba8197b5";getWeather(o),getForecast(t)}):posHolder.innerHTML="Geolocation is not supported by this browser."}var posHolder=document.querySelector("#position"),tempHolder=document.querySelector("#temp"),weatherHolder=document.querySelector("#weather_data"),reloadHolder=document.querySelector(".reload i"),reloadClick=document.querySelector(".reload"),iconHolder=document.querySelector("#weather_icon"),forTempHolder=document.querySelector("#fore-temp"),forHolder=document.querySelector("#fore-data");reloadClick.addEventListener("click",getLocation),window.onload=getLocation();